<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ng√†y X∆∞a C√≥ M·ªôt Chuy·ªán T√¨nh - CineStream</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <style>
        body {
            background: #0a0a0a;
            color: white;
        }

        #status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }

        .success {
            background: #10b981;
            color: white;
        }

        .error {
            background: #ef4444;
            color: white;
        }

        .info {
            background: #3b82f6;
            color: white;
        }
    </style>
</head>

<body class="p-4">
    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <div class="mb-6">
            <a href="index.html" class="flex items-center gap-2 mb-4 inline-flex">
                <span class="material-icons-round text-yellow-400 text-3xl">arrow_back</span>
                <span class="text-xl">V·ªÅ trang ch·ªß</span>
            </a>
            <h1 class="text-3xl font-bold mb-2">üé¨ Ng√†y X∆∞a C√≥ M·ªôt Chuy·ªán T√¨nh</h1>
            <p class="text-gray-400">Once Upon A Love Story (2024) - HD L·ªìng Ti·∫øng</p>
        </div>

        <!-- Status -->
        <div id="status" class="info">
            ‚è≥ ƒêang t·∫£i video...
        </div>

        <!-- Video Player -->
        <div class="bg-black rounded-lg overflow-hidden mb-6">
            <video id="videoPlayer" class="w-full aspect-video" controls controlsList="nodownload"
                poster="https://img.ophim.live/uploads/movies/ngay-xua-co-mot-chuyen-tinh-thumb.jpg">
                Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ video.
            </video>
        </div>

        <!-- Movie Info -->
        <div class="bg-gray-900 rounded-lg p-6">
            <h2 class="text-2xl font-bold mb-4">Th√¥ng tin phim</h2>
            <div class="grid grid-cols-2 gap-4 text-sm">
                <div>
                    <span class="text-gray-400">Th·ªùi l∆∞·ª£ng:</span>
                    <span class="ml-2">135 Ph√∫t</span>
                </div>
                <div>
                    <span class="text-gray-400">NƒÉm:</span>
                    <span class="ml-2">2024</span>
                </div>
                <div>
                    <span class="text-gray-400">Ch·∫•t l∆∞·ª£ng:</span>
                    <span class="ml-2">HD</span>
                </div>
                <div>
                    <span class="text-gray-400">Ng√¥n ng·ªØ:</span>
                    <span class="ml-2">L·ªìng Ti·∫øng</span>
                </div>
                <div class="col-span-2">
                    <span class="text-gray-400">Th·ªÉ lo·∫°i:</span>
                    <span class="ml-2">T√¨nh C·∫£m</span>
                </div>
                <div class="col-span-2">
                    <span class="text-gray-400">Qu·ªëc gia:</span>
                    <span class="ml-2">Vi·ªát Nam</span>
                </div>
            </div>

            <div class="mt-4 pt-4 border-t border-gray-700">
                <h3 class="font-bold mb-2">N·ªôi dung:</h3>
                <p class="text-gray-300 leading-relaxed">
                    Ng√†y X∆∞a C√≥ M·ªôt Chuy·ªán T√¨nh xoay quanh c√¢u chuy·ªán t√¨nh b·∫°n, t√¨nh y√™u gi·ªØa hai ch√†ng trai v√† m·ªôt c√¥
                    g√°i t·ª´ thu·ªü ·∫•u th∆° cho ƒë·∫øn khi tr∆∞·ªüng th√†nh, ph·∫£i ƒë·ªëi m·∫∑t v·ªõi nh·ªØng th·ª≠ th√°ch c·ªßa s·ªë ph·∫≠n. Tr·∫£i d√†i
                    trong 4 giai ƒëo·∫°n t·ª´ nƒÉm 1987 - 2000, ba ng∆∞·ªùi b·∫°n c√πng tu·ªïi - Vinh, Mi·ªÅn, Ph√∫c ƒë√£ c√πng y√™u, c√πng b·ª°
                    ng·ª° b∆∞·ªõc v√†o ƒë·ªùi, va v·∫•p v√† v∆∞·ª£t qua.
                </p>
            </div>

            <div class="mt-4 pt-4 border-t border-gray-700">
                <h3 class="font-bold mb-2">Di·ªÖn vi√™n:</h3>
                <p class="text-gray-300">Ng·ªçc Xu√¢n, L∆∞∆°ng Anh V≈©, ƒê·ªó Nh·∫≠t Ho√†ng, H·∫°o Khang, Rima Thanh Vy, Ki·ªÅu Trinh
                </p>
            </div>

            <div class="mt-4 pt-4 border-t border-gray-700">
                <h3 class="font-bold mb-2">ƒê·∫°o di·ªÖn:</h3>
                <p class="text-gray-300">Trinh Dinh Le Minh</p>
            </div>
        </div>
    </div>

    <script>
        const video = document.getElementById('videoPlayer');
        const status = document.getElementById('status');

        // Link video tr·ª±c ti·∫øp
        const videoUrl = 'https://vip.opstream13.com/20251205/21005_1facae63/index.m3u8';

        function updateStatus(message, type) {
            status.textContent = message;
            status.className = type;
        }

        // Kh·ªüi t·∫°o HLS.js
        if (Hls.isSupported()) {
            updateStatus('‚úÖ ƒêang t·∫£i video...', 'info');

            const hls = new Hls({
                debug: false,
                enableWorker: true,
                lowLatencyMode: true,
            });

            hls.loadSource(videoUrl);
            hls.attachMedia(video);

            hls.on(Hls.Events.MANIFEST_PARSED, function () {
                updateStatus('‚úÖ Video ƒë√£ s·∫µn s√†ng! Click play ƒë·ªÉ xem.', 'success');
                console.log('‚úÖ Video loaded successfully');
            });

            hls.on(Hls.Events.ERROR, function (event, data) {
                console.error('HLS Error:', data);

                if (data.fatal) {
                    switch (data.type) {
                        case Hls.ErrorTypes.NETWORK_ERROR:
                            updateStatus('‚ùå L·ªói m·∫°ng. ƒêang th·ª≠ k·∫øt n·ªëi l·∫°i...', 'error');
                            hls.startLoad();
                            break;
                        case Hls.ErrorTypes.MEDIA_ERROR:
                            updateStatus('‚ùå L·ªói media. ƒêang th·ª≠ kh√¥i ph·ª•c...', 'error');
                            hls.recoverMediaError();
                            break;
                        default:
                            updateStatus('‚ùå L·ªói kh√¥ng th·ªÉ kh√¥i ph·ª•c: ' + data.type, 'error');
                            hls.destroy();
                            break;
                    }
                }
            });

            // T·ª± ƒë·ªông ph√°t khi video s·∫µn s√†ng
            video.addEventListener('loadedmetadata', () => {
                console.log('Video metadata loaded');
            });

        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            // Native HLS support (Safari)
            updateStatus('‚úÖ ƒêang t·∫£i video (Safari)...', 'info');
            video.src = videoUrl;
            video.addEventListener('loadedmetadata', () => {
                updateStatus('‚úÖ Video ƒë√£ s·∫µn s√†ng! Click play ƒë·ªÉ xem.', 'success');
            });
        } else {
            updateStatus('‚ùå Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t video HLS', 'error');
        }

        // Log khi video b·∫Øt ƒë·∫ßu ph√°t
        video.addEventListener('play', () => {
            console.log('‚ñ∂Ô∏è Video ƒëang ph√°t');
        });

        video.addEventListener('error', (e) => {
            console.error('Video error:', e);
            updateStatus('‚ùå L·ªói khi ph√°t video', 'error');
        });
    </script>
</body>

</html>