# ğŸ¤– HÆ°á»›ng dáº«n táº¡o Bot vÃ  NhÃ³m Telegram cho A Phim

## BÆ°á»›c 1: Táº¡o Bot vá»›i @BotFather

### 1.1. Má»Ÿ Telegram vÃ  tÃ¬m @BotFather

1. Má»Ÿ á»©ng dá»¥ng Telegram trÃªn Ä‘iá»‡n thoáº¡i hoáº·c mÃ¡y tÃ­nh
2. VÃ o thanh tÃ¬m kiáº¿m, gÃµ: `@BotFather`
3. Chá»n tÃ i khoáº£n cÃ³ dáº¥u tick xanh (verified)
4. Nháº¥n **START** hoáº·c gá»­i `/start`

### 1.2. Táº¡o Bot má»›i

Gá»­i lá»‡nh sau cho @BotFather:

```
/newbot
```

BotFather sáº½ há»i:

**CÃ¢u 1: "Alright, a new bot. How are we going to call it? Please choose a name for your bot."**

Tráº£ lá»i tÃªn hiá»ƒn thá»‹ cá»§a bot (cÃ³ thá»ƒ cÃ³ dáº¥u cÃ¡ch):
```
A Phim Bot
```

**CÃ¢u 2: "Good. Now let's choose a username for your bot. It must end in `bot`."**

Tráº£ lá»i username (khÃ´ng dáº¥u cÃ¡ch, pháº£i káº¿t thÃºc báº±ng `bot`):
```
aphim_movie_bot
```

Hoáº·c cÃ¡c tÃªn khÃ¡c nhÆ°:
- `aphimio_bot`
- `aphimvn_bot`
- `cinestream_bot`

### 1.3. LÆ°u Bot Token

BotFather sáº½ gá»­i cho báº¡n má»™t tin nháº¯n nhÆ° nÃ y:

```
Done! Congratulations on your new bot. You will find it at t.me/aphim_movie_bot.

Use this token to access the HTTP API:
7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw

Keep your token secure and store it safely, it can be used by anyone to control your bot.
```

**âš ï¸ QUAN TRá»ŒNG:** Copy dÃ²ng token (dáº¡ng `7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw`) vÃ  lÆ°u láº¡i!

### 1.4. Táº¯t Privacy Mode (Báº¯t buá»™c Ä‘á»ƒ bot Ä‘á»c tin nháº¯n trong nhÃ³m)

Gá»­i lá»‡nh:
```
/setprivacy
```

BotFather sáº½ hiá»‡n danh sÃ¡ch bot cá»§a báº¡n:
- Chá»n `@aphim_movie_bot` (hoáº·c tÃªn bot báº¡n vá»«a táº¡o)

BotFather há»i: "Choose the desired privacy mode"
- Chá»n **Disable** (hoáº·c gá»­i `/disable`)

Báº¡n sáº½ tháº¥y thÃ´ng bÃ¡o:
```
Success! The new status is: DISABLED. /help
```

âœ… Xong! Bot giá» cÃ³ thá»ƒ Ä‘á»c táº¥t cáº£ tin nháº¯n trong nhÃ³m.

### 1.5. TÃ¹y chá»‰nh Bot (TÃ¹y chá»n)

**ThÃªm áº£nh Ä‘áº¡i diá»‡n:**
```
/setuserpic
```
Chá»n bot â†’ Gá»­i áº£nh logo A Phim

**ThÃªm mÃ´ táº£:**
```
/setdescription
```
Chá»n bot â†’ Gá»­i mÃ´ táº£:
```
Bot tá»± Ä‘á»™ng táº¡o link phim tá»« aphim.io.vn. Chá»‰ cáº§n gÃµ tÃªn phim!
```

**ThÃªm thÃ´ng tin About:**
```
/setabouttext
```
Chá»n bot â†’ Gá»­i:
```
ğŸ¬ Bot há»— trá»£ tÃ¬m phim tá»« aphim.io.vn
```

---

## BÆ°á»›c 2: Táº¡o NhÃ³m Telegram "A Phim"

### 2.1. Táº¡o nhÃ³m má»›i

**TrÃªn Ä‘iá»‡n thoáº¡i:**
1. Má»Ÿ Telegram
2. Nháº¥n vÃ o biá»ƒu tÆ°á»£ng **BÃºt** (gÃ³c dÆ°á»›i bÃªn pháº£i)
3. Chá»n **New Group**
4. Äáº·t tÃªn nhÃ³m: `A Phim` hoáº·c `Cá»™ng Ä‘á»“ng A Phim`
5. ThÃªm Ã­t nháº¥t 1 ngÆ°á»i báº¡n Ä‘á»ƒ táº¡o nhÃ³m (cÃ³ thá»ƒ xÃ³a sau)
6. Nháº¥n **Create**

**TrÃªn mÃ¡y tÃ­nh:**
1. Má»Ÿ Telegram Desktop
2. Nháº¥n vÃ o menu â˜° (gÃ³c trÃªn bÃªn trÃ¡i)
3. Chá»n **New Group**
4. Äáº·t tÃªn nhÃ³m: `A Phim`
5. ThÃªm thÃ nh viÃªn â†’ Nháº¥n **Create**

### 2.2. ThÃªm Bot vÃ o nhÃ³m

1. VÃ o nhÃ³m **A Phim** vá»«a táº¡o
2. Nháº¥n vÃ o tÃªn nhÃ³m á»Ÿ trÃªn cÃ¹ng
3. Chá»n **Add Members** (hoáº·c **ThÃªm thÃ nh viÃªn**)
4. TÃ¬m kiáº¿m: `@aphim_movie_bot` (tÃªn bot báº¡n vá»«a táº¡o)
5. Chá»n bot â†’ Nháº¥n **Add**

### 2.3. Cáº¥p quyá»n Admin cho Bot (Khuyáº¿n nghá»‹)

1. VÃ o nhÃ³m, nháº¥n tÃªn nhÃ³m á»Ÿ trÃªn
2. Chá»n **Administrators** (hoáº·c **Quáº£n trá»‹ viÃªn**)
3. Nháº¥n **Add Administrator**
4. Chá»n bot `@aphim_movie_bot`
5. Táº¯t háº¿t cÃ¡c quyá»n, chá»‰ báº­t:
   - âœ… **Delete messages** (XÃ³a tin nháº¯n - náº¿u cáº§n)
   - Hoáº·c khÃ´ng cáº§n quyá»n gÃ¬ cÅ©ng Ä‘Æ°á»£c
6. Nháº¥n **Save**

---

## BÆ°á»›c 3: Cáº¥u hÃ¬nh Bot trÃªn mÃ¡y tÃ­nh

### 3.1. Má»Ÿ file .env

Má»Ÿ file `telegram-bot/.env` báº±ng Notepad hoáº·c VS Code:

```env
BOT_TOKEN=your_bot_token_here
```

### 3.2. Paste Bot Token

Thay `your_bot_token_here` báº±ng token tháº­t tá»« @BotFather:

```env
BOT_TOKEN=7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw
```

**âš ï¸ LÆ°u Ã½:** KhÃ´ng cÃ³ dáº¥u cÃ¡ch, khÃ´ng cÃ³ dáº¥u ngoáº·c kÃ©p!

### 3.3. LÆ°u file

Nháº¥n **Ctrl + S** Ä‘á»ƒ lÆ°u file `.env`

---

## BÆ°á»›c 4: Cháº¡y Bot

### 4.1. CÃ i Ä‘áº·t dependencies

Má»Ÿ Command Prompt hoáº·c Terminal, cháº¡y:

```bash
cd telegram-bot
npm install
```

### 4.2. Khá»Ÿi Ä‘á»™ng Bot

```bash
npm start
```

Báº¡n sáº½ tháº¥y:
```
ğŸ¤– Bot Ä‘ang cháº¡y...
```

âœ… Bot Ä‘Ã£ sáºµn sÃ ng!

---

## BÆ°á»›c 5: Test Bot

### 5.1. Test trong chat riÃªng

1. Má»Ÿ Telegram, tÃ¬m bot `@aphim_movie_bot`
2. Gá»­i `/start`
3. Bot sáº½ reply: "ğŸ‘‹ Xin chÃ o! GÃµ tÃªn phim Ä‘á»ƒ tÃ´i tÃ¬m link cho báº¡n."
4. GÃµ tÃªn phim: `Linh Miáº¿u`
5. Bot sáº½ tráº£ vá»:
   ```
   ğŸ¬ Linh Miáº¿u
   ğŸ”— https://aphim.io.vn/movie-detail.html?slug=linh-mieu
   ```

### 5.2. Test trong nhÃ³m

1. VÃ o nhÃ³m **A Phim**
2. GÃµ tÃªn phim báº¥t ká»³: `Quá»· Nháº­p TrÃ ng 2`
3. Bot sáº½ tá»± Ä‘á»™ng reply link náº¿u phim tá»“n táº¡i
4. Náº¿u phim khÃ´ng tá»“n táº¡i, bot sáº½ im láº·ng (khÃ´ng spam)

---

## ğŸ¯ TÃ³m táº¯t cÃ¡c bÆ°á»›c

1. âœ… Táº¡o bot vá»›i @BotFather â†’ Láº¥y token
2. âœ… Táº¯t Privacy Mode (`/setprivacy` â†’ Disable)
3. âœ… Táº¡o nhÃ³m "A Phim"
4. âœ… ThÃªm bot vÃ o nhÃ³m
5. âœ… Paste token vÃ o file `.env`
6. âœ… Cháº¡y `npm install` vÃ  `npm start`
7. âœ… Test bot trong nhÃ³m

---

## ğŸ› Xá»­ lÃ½ lá»—i thÆ°á»ng gáº·p

### Lá»—i: Bot khÃ´ng nháº­n tin nháº¯n trong nhÃ³m

**NguyÃªn nhÃ¢n:** Privacy Mode chÆ°a táº¯t

**Giáº£i phÃ¡p:**
1. Gá»­i `/setprivacy` cho @BotFather
2. Chá»n bot
3. Chá»n **Disable**
4. Kick bot ra khá»i nhÃ³m vÃ  thÃªm láº¡i

### Lá»—i: "Error: ETELEGRAM: 401 Unauthorized"

**NguyÃªn nhÃ¢n:** Bot token sai hoáº·c khÃ´ng há»£p lá»‡

**Giáº£i phÃ¡p:**
1. Kiá»ƒm tra láº¡i token trong file `.env`
2. Copy láº¡i token tá»« @BotFather (gá»­i `/token` â†’ chá»n bot)
3. Äáº£m báº£o khÃ´ng cÃ³ dáº¥u cÃ¡ch thá»«a

### Lá»—i: Bot khÃ´ng reply

**NguyÃªn nhÃ¢n:** Link phim khÃ´ng tá»“n táº¡i

**Giáº£i phÃ¡p:**
- Bot chá»‰ reply khi link há»£p lá»‡ (status 200)
- Thá»­ vá»›i tÃªn phim Ä‘Æ¡n giáº£n: `Linh Miáº¿u`, `Mai`
- Kiá»ƒm tra console log Ä‘á»ƒ xem slug Ä‘Æ°á»£c táº¡o ra

---

## ğŸ“ LiÃªn há»‡

Náº¿u gáº·p váº¥n Ä‘á», kiá»ƒm tra:
1. Console log khi bot cháº¡y
2. File `.env` cÃ³ Ä‘Ãºng token khÃ´ng
3. Bot cÃ³ trong nhÃ³m khÃ´ng
4. Privacy Mode Ä‘Ã£ táº¯t chÆ°a

ChÃºc báº¡n thÃ nh cÃ´ng! ğŸ‰
