<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo - Ng√†y X∆∞a C√≥ M·ªôt Chuy·ªán T√¨nh</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        body {
            background: #1a1a1a;
            color: #fff;
        }
    </style>
</head>

<body class="p-8">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold mb-6">üé¨ Ng√†y X∆∞a C√≥ M·ªôt Chuy·ªán T√¨nh (2024)</h1>

        <!-- Video Player -->
        <div class="bg-black rounded-lg overflow-hidden mb-6">
            <video id="videoPlayer" class="w-full aspect-video" controls
                poster="https://img.ophim.live/uploads/movies/ngay-xua-co-mot-chuyen-tinh-thumb.jpg">
                Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ video.
            </video>
        </div>

        <!-- Movie Info -->
        <div class="bg-gray-800 rounded-lg p-6 mb-6">
            <h2 class="text-2xl font-bold mb-4">Th√¥ng tin phim</h2>
            <div class="grid grid-cols-2 gap-4 text-sm">
                <div><span class="text-gray-400">T√™n g·ªëc:</span> Once Upon A Love Story</div>
                <div><span class="text-gray-400">NƒÉm:</span> 2024</div>
                <div><span class="text-gray-400">Th·ªùi l∆∞·ª£ng:</span> 135 Ph√∫t</div>
                <div><span class="text-gray-400">Ch·∫•t l∆∞·ª£ng:</span> HD - L·ªìng Ti·∫øng</div>
                <div><span class="text-gray-400">Th·ªÉ lo·∫°i:</span> T√¨nh C·∫£m</div>
                <div><span class="text-gray-400">Qu·ªëc gia:</span> Vi·ªát Nam</div>
            </div>
            <div class="mt-4">
                <span class="text-gray-400">ƒê·∫°o di·ªÖn:</span> Trinh Dinh Le Minh
            </div>
            <div class="mt-2">
                <span class="text-gray-400">Di·ªÖn vi√™n:</span> Ng·ªçc Xu√¢n, L∆∞∆°ng Anh V≈©, ƒê·ªó Nh·∫≠t Ho√†ng, H·∫°o Khang, Rima
                Thanh Vy
            </div>
            <div class="mt-4">
                <p class="text-gray-300">
                    Ng√†y X∆∞a C√≥ M·ªôt Chuy·ªán T√¨nh xoay quanh c√¢u chuy·ªán t√¨nh b·∫°n, t√¨nh y√™u gi·ªØa hai ch√†ng trai v√† m·ªôt c√¥
                    g√°i t·ª´ thu·ªü ·∫•u th∆° cho ƒë·∫øn khi tr∆∞·ªüng th√†nh, ph·∫£i ƒë·ªëi m·∫∑t v·ªõi nh·ªØng th·ª≠ th√°ch c·ªßa s·ªë ph·∫≠n. Tr·∫£i d√†i
                    trong 4 giai ƒëo·∫°n t·ª´ nƒÉm 1987 - 2000, ba ng∆∞·ªùi b·∫°n c√πng tu·ªïi - Vinh, Mi·ªÅn, Ph√∫c ƒë√£ c√πng y√™u, c√πng b·ª°
                    ng·ª° b∆∞·ªõc v√†o ƒë·ªùi, va v·∫•p v√† v∆∞·ª£t qua.
                </p>
            </div>
        </div>

        <!-- Status -->
        <div id="status" class="bg-blue-900 text-blue-200 rounded-lg p-4 mb-4">
            ƒêang t·∫£i video...
        </div>

        <!-- Links -->
        <div class="bg-gray-800 rounded-lg p-6">
            <h3 class="text-xl font-bold mb-4">Xem tr√™n website ch√≠nh:</h3>
            <div class="space-y-2">
                <a href="movie-detail.html?slug=ngay-xua-co-mot-chuyen-tinh"
                    class="block bg-yellow-500 text-black font-bold py-3 px-6 rounded-lg hover:bg-yellow-400 text-center">
                    üìÑ Xem Chi Ti·∫øt Phim
                </a>
                <a href="watch.html?slug=ngay-xua-co-mot-chuyen-tinh&episode=full"
                    class="block bg-red-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-red-500 text-center">
                    ‚ñ∂Ô∏è Xem Phim Tr√™n Trang Watch
                </a>
            </div>
        </div>
    </div>

    <script>
        const videoUrl = 'https://vip.opstream13.com/20251205/21005_1facae63/index.m3u8';
        const video = document.getElementById('videoPlayer');
        const status = document.getElementById('status');

        function updateStatus(message, type = 'info') {
            const colors = {
                info: 'bg-blue-900 text-blue-200',
                success: 'bg-green-900 text-green-200',
                error: 'bg-red-900 text-red-200'
            };
            status.className = `rounded-lg p-4 mb-4 ${colors[type]}`;
            status.textContent = message;
        }

        // Check if HLS is supported
        if (Hls.isSupported()) {
            updateStatus('‚úÖ Tr√¨nh duy·ªát h·ªó tr·ª£ HLS. ƒêang t·∫£i video...', 'info');

            const hls = new Hls({
                debug: false,
                enableWorker: true,
                lowLatencyMode: true,
                backBufferLength: 90
            });

            hls.loadSource(videoUrl);
            hls.attachMedia(video);

            hls.on(Hls.Events.MANIFEST_PARSED, function () {
                updateStatus('‚úÖ Video ƒë√£ s·∫µn s√†ng! Click play ƒë·ªÉ xem.', 'success');
                console.log('‚úÖ HLS manifest loaded successfully');
            });

            hls.on(Hls.Events.ERROR, function (event, data) {
                console.error('HLS Error:', data);
                if (data.fatal) {
                    switch (data.type) {
                        case Hls.ErrorTypes.NETWORK_ERROR:
                            updateStatus('‚ùå L·ªói m·∫°ng. ƒêang th·ª≠ k·∫øt n·ªëi l·∫°i...', 'error');
                            hls.startLoad();
                            break;
                        case Hls.ErrorTypes.MEDIA_ERROR:
                            updateStatus('‚ùå L·ªói media. ƒêang th·ª≠ kh√¥i ph·ª•c...', 'error');
                            hls.recoverMediaError();
                            break;
                        default:
                            updateStatus('‚ùå L·ªói kh√¥ng th·ªÉ kh√¥i ph·ª•c: ' + data.type, 'error');
                            hls.destroy();
                            break;
                    }
                }
            });

            // Video events
            video.addEventListener('loadedmetadata', () => {
                console.log('‚úÖ Video metadata loaded');
                console.log('Duration:', video.duration, 'seconds');
            });

            video.addEventListener('canplay', () => {
                console.log('‚úÖ Video can play');
            });

            video.addEventListener('playing', () => {
                updateStatus('‚ñ∂Ô∏è ƒêang ph√°t video...', 'success');
            });

            video.addEventListener('pause', () => {
                updateStatus('‚è∏Ô∏è Video ƒë√£ t·∫°m d·ª´ng', 'info');
            });

            video.addEventListener('ended', () => {
                updateStatus('‚úÖ Video ƒë√£ k·∫øt th√∫c', 'success');
            });

        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            // Native HLS support (Safari)
            updateStatus('‚úÖ S·ª≠ d·ª•ng HLS native. ƒêang t·∫£i video...', 'info');
            video.src = videoUrl;

            video.addEventListener('loadedmetadata', () => {
                updateStatus('‚úÖ Video ƒë√£ s·∫µn s√†ng! Click play ƒë·ªÉ xem.', 'success');
            });
        } else {
            updateStatus('‚ùå Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ HLS. Vui l√≤ng d√πng Chrome, Firefox ho·∫∑c Safari.', 'error');
        }

        // Log video info
        console.log('üé¨ Movie: Ng√†y X∆∞a C√≥ M·ªôt Chuy·ªán T√¨nh');
        console.log('üîó Stream URL:', videoUrl);
        console.log('üì∫ HLS.js version:', Hls.version);
    </script>
</body>

</html>